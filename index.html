<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Robin Spahn — Queer Dev ✨ AI Tinkerer</title>
  <meta name="description" content="Robin Spahn is a queer developer exploring AI, creative tooling, and community tech projects. Explore projects, case studies, and contact." />
  <meta name="theme-color" content="#0b0b10" />
  <link rel="preconnect" href="https://api.github.com" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      --bg:#0b0b10; --panel:#12121a; --ink:#eef0f6; --muted:#a9adc1; --chip:#171726;
      --accent:#8a7dff; --accent-2:#12d6df; --radius:20px; --shadow:0 12px 40px rgba(0,0,0,.35);
    }
    html,body{height:100%}
    body{margin:0;background:
      radial-gradient(1200px 1200px at 120% -10%,rgba(18,214,223,.18),transparent 60%),
      radial-gradient(900px 900px at -20% 120%,rgba(138,125,255,.18),transparent 60%),
      var(--bg); color:var(--ink); font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1100px;margin:0 auto;padding:28px}

    /* Nav */
    .nav{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
    .brand{display:flex;align-items:center;gap:10px}
    .brand img{width:36px;height:36px;border-radius:50%;border:1px solid rgba(255,255,255,.1)}
    .nav a{opacity:.9}
    .nav a:hover{opacity:1}
    .nav .links{display:flex;gap:14px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.12);}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#0b0b10;border:none}

    /* Hero */
    .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:24px;align-items:center;margin:18px 0}
    .hero h1{font-size:40px;line-height:1.12;margin:0 0 8px}
    .kicker{font-size:12px;letter-spacing:.22em;color:var(--muted);text-transform:uppercase}
    .lead{color:var(--muted);margin:6px 0 16px}
    .cta{display:flex;gap:10px;flex-wrap:wrap}
    .panel{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--panel);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);box-shadow:var(--shadow)}
    .panel.card{padding:18px}
    .pill{font-size:12px;padding:5px 9px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1)}

    /* Latest Work */
    .section{margin:28px 0}
    .section h2{margin:0 0 8px;font-size:22px}
    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px}
    .card h3{margin:0 0 6px;font-size:16px}
    .badges{display:flex;gap:6px;flex-wrap:wrap;margin-top:6px}
    .badge{font-size:12px;padding:5px 8px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1)}
    .card .desc{color:var(--muted);min-height:38px}

    /* Footer */
    footer{opacity:.75;margin:26px 4px}

    @media (max-width:980px){.hero{grid-template-columns:1fr}.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media (max-width:680px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- NAV -->
    <nav class="nav">
      <div class="brand">
        <img id="avatar" alt="Avatar" src="" />
        <strong>Robin Spahn</strong>
      </div>
      <div class="links">
        <a href="/projects/">Projects</a>
        <a href="/about/">About</a>
        <a href="/case-studies/">Case Studies</a>
        <a class="btn" href="https://github.com/rspahn-dev" target="_blank" rel="noreferrer">GitHub</a>
      </div>
    </nav>

    <!-- HERO -->
    <section class="hero">
      <div>
        <div class="kicker">Queer Dev ✨ AI Tinkerer</div>
        <h1>Building playful, accessible tools with AI — and telling the story behind the code.</h1>
        <p class="lead" id="bio">I work across creative coding, community tech, and experimental UX. Browse my latest work, read deep‑dive case studies, or reach out to collaborate.</p>
        <div class="cta">
          <a class="btn primary" href="/projects/">View Projects</a>
          <a class="btn" href="/about/">About Me</a>
          <a class="btn" href="/RobinSpahn_Resume.pdf" target="_blank" rel="noreferrer">Resume</a>
        </div>
        <div style="display:flex;gap:8px;margin-top:14px;flex-wrap:wrap">
          <span class="pill">Accessibility‑first</span>
          <span class="pill">AI + Frontend</span>
          <span class="pill">Community tech</span>
          <span class="pill">Open source</span>
        </div>
      </div>
      <div class="panel card">
        <div class="kicker" style="margin-bottom:8px">Latest</div>
        <div id="latest" class="grid"></div>
        <div id="latest-empty" style="color:var(--muted)">Recent projects will appear here. See <a href="/projects/">all projects</a>.</div>
      </div>
    </section>

    <!-- FEATURED CALLOUTS -->
    <section class="section">
      <h2>What I focus on</h2>
      <div class="grid">
        <article class="panel card">
          <h3>AI‑powered UIs</h3>
          <p class="desc">Prototyping assistants, dashboards, and creative tools with LLMs, audio, and image models.</p>
        </article>
        <article class="panel card">
          <h3>Accessible design</h3>
          <p class="desc">WCAG‑minded components, keyboard navigation, color contrast, and screen‑reader semantics.</p>
        </article>
        <article class="panel card">
          <h3>Community platforms</h3>
          <p class="desc">Open‑source sites/apps for queer gaming and local groups — sustainable workflows & docs.</p>
        </article>
      </div>
    </section>

    <!-- FOOTER -->
    <footer>
      © <span id="year"></span> Robin Spahn · <a href="/projects/">Projects</a> · <a href="/about/">About</a> · <a href="mailto:hello@rspahn.dev">hello@rspahn.dev</a>
    </footer>
  </div>

<script>
// ==== CONFIG: set your GitHub username and featured repos
const GH_USER = "rspahn-dev"; // <- your account
const FEATURED_REPOS = [
  // add repo names you want featured (case-sensitive)
  // e.g., "fitrpg", "price-lens", "grifkuba-app"
];

// Derived Pages URL helper
const pagesUrl = (owner, repo) => `https://${owner}.github.io/${repo}/`;

// Fetch all public repos (first page up to 100)
async function fetchRepos() {
  const url = `https://api.github.com/users/${GH_USER}/repos?per_page=100&sort=updated`;
  const res = await fetch(url, { headers: {
    'Accept': 'application/vnd.github+json',
    'X-GitHub-Api-Version': '2022-11-28'
  }});
  if (!res.ok) throw new Error(`GitHub API error ${res.status}`);
  const repos = await res.json();
  // augment with a best-guess demo url and compact fields
  return repos
    .filter(r => !r.fork)
    .map(r => ({
      id: r.id,
      name: r.name,
      full_name: r.full_name,
      html_url: r.html_url,
      description: r.description,
      language: r.language,
      stargazers_count: r.stargazers_count,
      updated_at: r.updated_at,
      homepage: r.homepage && r.homepage.trim() ? r.homepage : null,
      topics: r.topics || [], // topics included for many repos
      archived: r.archived,
      owner: r.owner?.login
    }));
}

function formatDate(iso){
  const d = new Date(iso);
  return d.toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric'});
}

// Build UI
function renderFeatured(repos){
  const mount = document.getElementById('featured');
  // If FEATURED_REPOS not set, pick top 3 by stars
  const selected = (FEATURED_REPOS && FEATURED_REPOS.length)
    ? FEATURED_REPOS.map(name => repos.find(r => r.name === name || r.full_name === name)).filter(Boolean)
    : repos.slice().sort((a,b)=>b.stargazers_count - a.stargazers_count).slice(0,3);
  if (!selected.length){
    const section = mount.closest('section');
    if (section) section.style.display = 'none';
    return;
  }
  mount.innerHTML = selected.map(r => `
    <article class="panel feat-card">
      <div class="badges">
        ${r.language ? `<span class="badge">${r.language}</span>` : ''}
        <span class="badge">★ ${r.stargazers_count}</span>
        <span class="badge">Updated ${formatDate(r.updated_at)}</span>
      </div>
      <h3>${r.name}</h3>
      <p class="desc">${r.description ?? ''}</p>
      <div class="actions">
        ${demoButton(r)}
        <a class="btn" href="${r.html_url}" target="_blank" rel="noreferrer">Source</a>
        <a class="btn" href="/case-studies/${r.name}.html">Case study</a>
      </div>
    </article>
  `).join('');
}

function demoButton(r){
  const url = r.homepage || pagesUrl(r.owner, r.name);
  return `<a class="btn primary" href="${url}" target="_blank" rel="noreferrer">Live demo</a>`;
}

function renderLangOptions(repos){
  const sel = document.getElementById('lang');
  const langs = Array.from(new Set(repos.map(r => r.language).filter(Boolean))).sort();
  sel.innerHTML = '<option value="">Any</option>' + langs.map(l => `<option>${l}</option>`).join('');
}

function renderGrid(repos){
  const q = document.getElementById('q').value.trim().toLowerCase();
  const lang = document.getElementById('lang').value;
  const sort = document.getElementById('sort').value;

  let list = repos.slice();

  if (q){
    list = list.filter(r =>
      (r.name && r.name.toLowerCase().includes(q)) ||
      (r.description && r.description.toLowerCase().includes(q)) ||
      (r.topics && r.topics.join(' ').toLowerCase().includes(q))
    );
  }
  if (lang){ list = list.filter(r => r.language === lang); }

  if (sort === 'stars') list.sort((a,b)=>b.stargazers_count - a.stargazers_count);
  else if (sort === 'updated') list.sort((a,b)=> new Date(b.updated_at) - new Date(a.updated_at));
  else if (sort === 'alpha') list.sort((a,b)=> a.name.localeCompare(b.name));

  const grid = document.getElementById('grid');
  const empty = document.getElementById('empty');

  grid.innerHTML = list.map(r => `
    <article class="panel card">
      <div class="title-row">
        <h4>${r.name}</h4>
        <div class="badges">
          ${r.language ? `<span class="badge">${r.language}</span>` : ''}
          <span class="badge">★ ${r.stargazers_count}</span>
        </div>
      </div>
      <p class="desc">${r.description ?? ''}</p>
      <div class="topics">
        ${(r.topics || []).slice(0,6).map(t=>`<span class="badge">#${t}</span>`).join('')}
      </div>
      <div class="meta">
        <span>Updated ${formatDate(r.updated_at)}</span>
        ${r.archived ? '<span>· Archived</span>' : ''}
      </div>
      <div class="actions">
        ${demoButton(r)}
        <a class="btn" href="${r.html_url}" target="_blank" rel="noreferrer">Source</a>
        <a class="btn" href="/case-studies/${r.name}.html">Case study</a>
      </div>
    </article>
  `).join('');

  empty.hidden = list.length !== 0;
  document.getElementById('count').textContent = list.length;
}

(async function init(){
  // Fetch profile for avatar + bio + stats
  try {
    const u = await fetch(`https://api.github.com/users/${GH_USER}`, { headers: { 'Accept': 'application/vnd.github+json' }}).then(r=>r.json());
    const avatar = document.getElementById('avatar');
    if (u && u.avatar_url){ avatar.src = u.avatar_url; }
    if (u && u.bio){ document.getElementById('bio').textContent = u.bio; }
    if (u && typeof u.public_repos === 'number'){
      const s = document.getElementById('stats');
      document.getElementById('stat-repos').textContent = `${u.public_repos} public repos`;
      document.getElementById('stat-followers').textContent = `${u.followers} followers`;
      document.getElementById('stat-following').textContent = `${u.following} following`;
      s.hidden = false;
    }
  } catch (e) { /* ignore */ }

  const all = await fetchRepos().catch(err => ({ error: err.message }));
  if (all.error){
    document.getElementById('grid').outerHTML = `<div class="empty">${all.error}. You might be rate limited. Try again soon or add a GitHub token fetch.</div>`;
    return;
  }
  window.__REPOS__ = all;
  renderLangOptions(all);
  renderFeatured(all);
  renderGrid(all);

  // wire controls
  document.getElementById('q').addEventListener('input', ()=>renderGrid(all));
  document.getElementById('lang').addEventListener('change', ()=>renderGrid(all));
  document.getElementById('sort').addEventListener('change', ()=>renderGrid(all));
  document.getElementById('reset').addEventListener('click', ()=>{
    document.getElementById('q').value='';
    document.getElementById('lang').value='';
    document.getElementById('sort').value='stars';
    renderGrid(all);
  });
})();
</script>
</body>
</html>
